<html>

<body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333;">
    <div style="max-width: 600px; margin: 0 auto;">
        <h2 style="color: #667eea;">Monthly Attendance Report - {{ month_start|date:"F Y" }}</h2>

        <p>Hi {{ hr_name }},</p>

        <p>Here is the monthly attendance report summary for {{ month_start|date:"F Y" }}:</p>

        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin: 20px 0;">
            <p><strong>Total Records:</strong> {{ total_records }}</p>
            <p><strong style="color: #28a745;">Present:</strong> {{ present_count }}</p>
            <p><strong style="color: #ffc107;">Late:</strong> {{ late_count }}</p>
            <p><strong style="color: #dc3545;">Absent:</strong> {{ absent_count }}</p>
        </div>

        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <thead>
                <tr style="background-color: #f8f9fa;">
                    <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Employee</th>
                    <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Date</th>
                    <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Check-in</th>
                    <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Status</th>
                </tr>
            </thead>
            <tbody>
                {% for record in records|slice:":20" %}
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;">{{ record.employee.get_full_name }}</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">{{ record.attendance_date|date:"M d" }}</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">{{ record.check_in_time|time:"H:i"|default:"-" }}
                    </td>
                    <td style="padding: 10px; border: 1px solid #ddd;">{{ record.get_status_display }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <p style="color: #666; font-size: 12px;">
            Note: Only the first 20 records are shown. Full report available in the admin dashboard.
        </p>
    </div>
</body>

</html>